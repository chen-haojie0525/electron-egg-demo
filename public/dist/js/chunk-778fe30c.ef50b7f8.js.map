{"version":3,"sources":["webpack:///./src/views/hardware/printer/Index.vue?8525","webpack:///./src/views/hardware/printer/Index.vue","webpack:///./src/views/hardware/printer/Index.vue?6ba6"],"names":["id","_createElementVNode","class","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_a_button","onClick","_cache","$event","_ctx","getPrinter","_hoisted_4","_hoisted_5","_Fragment","_renderList","printerList","item","index","key","_toDisplayString","displayName","defaultDevice","_hoisted_6","_hoisted_7","doPrint","defineComponent","setup","$ipc","inject","console","log","dataMap","reactive","defaultDeviceName","views","type","content","methods","init","removeAllListeners","ipcApiRoute","printStatus","on","event","result","invoke","getPrinterList","then","res","params","view","deviceName","send","print","JSON","stringify","desc","isDefault","name","onMounted","toRefs","__exports__","render"],"mappings":"yIAAA,W,oICCOA,GAAG,oB,QACNC,eAIM,OAJDC,MAAM,eAAa,CACtBD,eAEO,YAFD,gB,OAIHC,MAAM,e,GAGNA,MAAM,e,QACTD,eAEQ,WAFH,UAEH,I,QAGJA,eAIM,OAJDC,MAAM,eAAa,CACtBD,eAEO,YAFD,e,OAIHC,MAAM,e,mFApBbC,eAuBM,MAvBNC,EAuBM,CAtBJC,EAKAJ,eAEM,MAFNK,EAEM,CADJC,eAAoDC,EAAA,CAAzCC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,e,wBAAc,IAAS,C,eAAT,e,QAElCZ,eAKM,MALNa,EAKM,CAJJC,G,mBAGAZ,eAA2Ga,OAAA,KAAAC,eAAhFL,EAAAM,YAAW,CAA1BC,EAAMC,K,iBAAlBjB,eAA2G,OAAlEkB,IAAKD,GAAKE,eAAKH,EAAKI,aAAc,IAACD,eAAGV,EAAAY,cAAcL,IAAI,K,QAEnGM,EAKAxB,eAEM,MAFNyB,EAEM,CADJnB,eAAiDC,EAAA,CAAtCC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAe,QAAQ,K,wBAAI,IAAQ,C,eAAR,c,0BAQrBC,iBAAgB,CAC7BC,QACE,MAAMC,EAAOC,eAAO,QACpBC,QAAQC,IAAIH,EAAM,QAClB,MAAMI,EAAUC,eAAS,CACvBC,kBAAmB,GACnBlB,YAAa,GACbmB,MAAO,CACL,CACEC,KAAM,OACNC,QAAS,qCAITC,EAAU,CACdC,OAEEX,EAAKY,mBAAmBC,OAAYC,aACpCd,EAAKe,GAAGF,OAAYC,YAAa,CAACE,EAAOC,KACvCf,QAAQC,IAAI,SAAUc,MAG1BlC,aACEmB,QAAQC,IAAIH,EAAM,QAClBA,EAAKkB,OAAOL,OAAYM,eAAgB,IAAIC,KAAKC,IAC/CjB,EAAQhB,YAAciC,KAG1BxB,QAASP,GACPY,QAAQC,IAAI,qBAAsBC,EAAQE,mBAC1C,MAAMgB,EAAS,CACbC,KAAMnB,EAAQG,MAAMjB,GACpBkC,WAAYpB,EAAQE,mBAEtBN,EAAKyB,KAAKZ,OAAYa,MAAOC,KAAKC,UAAUN,KAE9C5B,cAAeL,GACb,IAAIwC,EAAO,GAMX,OALIxC,EAAKyC,YACPD,EAAO,OACPzB,EAAQE,kBAAoBjB,EAAK0C,MAG5BF,IAMX,OAHAG,eAAU,KACRtB,EAAQC,SAEH,IACFsB,eAAO7B,MACPM,M,iCC1ET,MAAMwB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-778fe30c.ef50b7f8.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=3d606094&lang=less&scoped=true\"","<template>\r\n  <div id=\"app-hw-bluetooth\">\r\n    <div class=\"one-block-1\">\r\n      <span>\r\n        1. 打印机设备\r\n      </span>\r\n    </div>  \r\n    <div class=\"one-block-2\">\r\n      <a-button @click=\"getPrinter()\"> 获取打印机列表 </a-button>\r\n    </div>\r\n    <div class=\"one-block-2\">\r\n      <div>\r\n          设备列表\r\n        </div>\r\n      <div v-for=\"item, index in printerList\" :key=\"index\">{{ item.displayName }} {{ defaultDevice(item) }}</div>\r\n    </div>\r\n    <div class=\"one-block-1\">\r\n      <span>\r\n        2. 打印内容\r\n      </span>\r\n    </div>  \r\n    <div class=\"one-block-2\">\r\n      <a-button @click=\"doPrint(0)\"> 打印一个页面 </a-button>\r\n    </div>      \r\n  </div>\r\n</template>\r\n<script>\r\nimport { defineComponent, inject, reactive, toRefs, onMounted } from 'vue'\r\nimport { ipcApiRoute } from '@/api/main'\r\n\r\nexport default defineComponent({\r\n  setup() {\r\n    const $ipc = inject('$ipc')\r\n    console.log($ipc, '$ipc')\r\n    const dataMap = reactive({\r\n      defaultDeviceName: '',\r\n      printerList: [],\r\n      views: [\r\n        {\r\n          type: 'html',\r\n          content: '/public/html/view_example.html'\r\n        },        \r\n      ],\r\n    })\r\n    const methods = {\r\n      init () {\r\n        // 避免重复监听，或者将 on 功能写到一个统一的地方，只加载一次\r\n        $ipc.removeAllListeners(ipcApiRoute.printStatus);\r\n        $ipc.on(ipcApiRoute.printStatus, (event, result) => {\r\n          console.log('result', result);\r\n        })\r\n      },    \r\n      getPrinter () {\r\n        console.log($ipc, '$ipc')\r\n        $ipc.invoke(ipcApiRoute.getPrinterList, {}).then(res => {\r\n          dataMap.printerList = res;\r\n        }) \r\n      },\r\n      doPrint (index) {\r\n        console.log('defaultDeviceName:', dataMap.defaultDeviceName)\r\n        const params = {\r\n          view: dataMap.views[index],\r\n          deviceName: dataMap.defaultDeviceName\r\n        };\r\n        $ipc.send(ipcApiRoute.print, JSON.stringify(params))\r\n      },\r\n      defaultDevice (item) {\r\n        let desc = \"\";\r\n        if (item.isDefault) {\r\n          desc = \"- 默认\";\r\n          dataMap.defaultDeviceName = item.name;\r\n        }\r\n        \r\n        return desc;\r\n      } \r\n    }\r\n    onMounted(() => {\r\n      methods.init()\r\n    })\r\n    return {\r\n      ...toRefs(dataMap),\r\n      ...methods\r\n    }\r\n  }\r\n})\r\n</script>\r\n<style lang=\"less\" scoped>\r\n#app-hw-bluetooth {\r\n  padding: 0px 10px;\r\n  text-align: left;\r\n  width: 100%;\r\n  .one-block-1 {\r\n    font-size: 16px;\r\n    padding-top: 10px;\r\n  }\r\n  .one-block-2 {\r\n    padding-top: 10px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Index.vue?vue&type=template&id=3d606094&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=3d606094&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\Work\\\\projects\\\\electron-egg-demo\\\\frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d606094\"]])\n\nexport default __exports__"],"sourceRoot":""}