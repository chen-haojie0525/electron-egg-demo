(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eb916e8"],{"063a":function(e,t,c){},1667:function(e,t,c){"use strict";c.r(t);var s=c("f2bf");const i=e=>(Object(s["B"])("data-v-6d05cf8f"),e=e(),Object(s["z"])(),e),a={id:"app-base-file"},l=i(()=>Object(s["k"])("div",{class:"one-block-1"},[Object(s["k"])("span",null," 1. 系统原生对话框 ")],-1)),n={class:"one-block-2"},o=i(()=>Object(s["k"])("div",{class:"one-block-1"},[Object(s["k"])("span",null," 2. 选择保存目录 ")],-1)),d={class:"one-block-2"},b=i(()=>Object(s["k"])("div",{class:"one-block-1"},[Object(s["k"])("span",null," 3. 打开文件夹 ")],-1)),r={class:"one-block-2"},u=i(()=>Object(s["k"])("div",{class:"one-block-1"},[Object(s["k"])("span",null," 4. 上传文件到图床 ")],-1)),j={class:"one-block-2"},O={class:"ant-upload-drag-icon"},f=i(()=>Object(s["k"])("p",{class:"ant-upload-text"}," 点击 或 拖拽文件到这里 ",-1)),p=i(()=>Object(s["k"])("p",{class:"ant-upload-hint"}," 注意：请使用您自己的图床token ",-1)),h=i(()=>Object(s["k"])("div",{class:"footer"},null,-1));function m(e,t,c,i,m,k){const g=Object(s["G"])("a-button"),v=Object(s["G"])("a-space"),_=Object(s["G"])("a-input"),w=Object(s["G"])("a-col"),C=Object(s["G"])("a-row"),$=Object(s["G"])("a-card"),N=Object(s["G"])("a-list-item"),G=Object(s["G"])("a-list"),S=Object(s["G"])("a-icon"),y=Object(s["G"])("a-upload-dragger");return Object(s["y"])(),Object(s["j"])("div",a,[l,Object(s["k"])("div",n,[Object(s["m"])(v,null,{default:Object(s["N"])(()=>[Object(s["m"])(g,{onClick:t[0]||(t[0]=e=>k.messageShow())},{default:Object(s["N"])(()=>[Object(s["l"])("消息提示(ipc)")]),_:1}),Object(s["m"])(g,{onClick:t[1]||(t[1]=e=>k.messageShowConfirm())},{default:Object(s["N"])(()=>[Object(s["l"])("消息提示与确认(ipc)")]),_:1})]),_:1})]),o,Object(s["k"])("div",d,[Object(s["m"])(C,null,{default:Object(s["N"])(()=>[Object(s["m"])(w,{span:12},{default:Object(s["N"])(()=>[Object(s["m"])(_,{modelValue:m.dir_path,"onUpdate:modelValue":t[2]||(t[2]=e=>m.dir_path=e),value:m.dir_path,"addon-before":"保存目录"},null,8,["modelValue","value"])]),_:1}),Object(s["m"])(w,{span:12},{default:Object(s["N"])(()=>[Object(s["m"])(g,{onClick:k.selectDir},{default:Object(s["N"])(()=>[Object(s["l"])(" 修改目录 ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),b,Object(s["k"])("div",r,[Object(s["m"])(G,{grid:{gutter:16,column:4},"data-source":m.file_list},{default:Object(s["N"])(()=>[Object(s["m"])(N,{slot:"renderItem","slot-scope":"item",onClick:t[3]||(t[3]=t=>k.openDirectry(e.item.id))},{default:Object(s["N"])(()=>[Object(s["m"])($,{title:e.item.content},{default:Object(s["N"])(()=>[Object(s["m"])(g,{type:"link"},{default:Object(s["N"])(()=>[Object(s["l"])(" 打开 ")]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["data-source"])]),u,Object(s["k"])("div",j,[Object(s["m"])(y,{name:"file",multiple:!0,action:m.action_url,onChange:k.handleFileChange},{default:Object(s["N"])(()=>[Object(s["k"])("p",O,[Object(s["m"])(S,{type:"inbox"})]),f,p]),_:1},8,["action","onChange"])]),h])}c("14d9");var k=c("cff8"),g=c.n(k),v=c("a358");const _=[{content:"【下载】目录",id:"downloads"},{content:"【图片】目录",id:"pictures"},{content:"【文档】目录",id:"documents"},{content:"【音乐】目录",id:"music"}];var w={data(){return{file_list:_,action_url:"",image_info:[],num:0,servicAddress:"",dir_path:"D:\\www\\ee"}},mounted(){this.getHost()},methods:{getHost(){this.$ipc.invoke(v["a"].checkHttpServer,{}).then(e=>{if(e.enable){this.servicAddress=e.server,g.a.set("httpServiceConfig",e);const t=e.server||"http://localhost:7071";let c=v["a"].uploadFile,s=c.split(".").join("/");this.action_url=t+"/"+s}})},openDirectry(e){this.$ipc.invoke(v["a"].openDirectory,{id:e}).then(e=>{})},selectDir(){this.$ipc.invoke(v["a"].selectFolder,"").then(e=>{this.dir_path=e,this.$message.info(e)})},messageShow(){this.$ipc.invoke(v["a"].messageShow,"").then(e=>{this.$message.info(e)})},messageShowConfirm(){this.$ipc.invoke(v["a"].messageShowConfirm,"").then(e=>{this.$message.info(e)})},handleFileChange(e){if(console.log("handleFileChange-----"),""==this.action_url)return void this.$message.error("http服务未开启");const t=e.file.status;if("uploading"!==t&&console.log(e.file),"done"===t){const t=e.file.response;if(console.log("uploadRes:",t),"success"!==t.code)return this.$message.error(`file upload failed ${t.code} .`),!1;this.num++;const c=t.data;c.id=this.num,c.imageUrlText="image url",this.image_info.push(c),this.$message.success(e.file.name+" file uploaded successfully.")}else"error"===t&&this.$message.error(e.file.name+" file upload failed.")}}},C=(c("eff4"),c("d959")),$=c.n(C);const N=$()(w,[["render",m],["__scopeId","data-v-6d05cf8f"]]);t["default"]=N},eff4:function(e,t,c){"use strict";c("063a")}}]);
//# sourceMappingURL=chunk-0eb916e8.1831d60d.js.map