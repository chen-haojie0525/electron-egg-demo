(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b80db62"],{"23ba":function(e,c,t){"use strict";t.r(c);var n=t("f2bf");const s=e=>(Object(n["B"])("data-v-010d9bff"),e=e(),Object(n["z"])(),e),i={id:"app-base-socket-ipc"},o=s(()=>Object(n["k"])("div",{class:"one-block-1"},[Object(n["k"])("span",null," 1. 发送异步消息 ")],-1)),l={class:"one-block-2"},a=s(()=>Object(n["k"])("p",null,null,-1)),d=s(()=>Object(n["k"])("div",{class:"one-block-1"},[Object(n["k"])("span",null," 2. 同步消息（不推荐，阻塞执行） ")],-1)),b={class:"one-block-2"},j=s(()=>Object(n["k"])("div",{class:"one-block-1"},[Object(n["k"])("span",null," 3. 长消息： 服务端持续向前端页面发消息 ")],-1)),O={class:"one-block-2"},k=s(()=>Object(n["k"])("div",{class:"one-block-1"},[Object(n["k"])("span",null," 4. 多窗口通信：子窗口与主进程通信，子窗口互相通信 ")],-1)),w={class:"one-block-2"};function p(e,c,t,s,p,u){const g=Object(n["G"])("a-button"),h=Object(n["G"])("a-space");return Object(n["y"])(),Object(n["j"])("div",i,[o,Object(n["k"])("div",l,[Object(n["m"])(h,null,{default:Object(n["N"])(()=>[Object(n["m"])(g,{onClick:u.handleInvoke},{default:Object(n["N"])(()=>[Object(n["l"])("发送 - 回调")]),_:1},8,["onClick"]),Object(n["l"])(" 结果："+Object(n["I"])(p.message1),1)]),_:1}),a,Object(n["m"])(h,null,{default:Object(n["N"])(()=>[Object(n["m"])(g,{onClick:u.handleInvoke2},{default:Object(n["N"])(()=>[Object(n["l"])("发送 - async/await")]),_:1},8,["onClick"]),Object(n["l"])(" 结果："+Object(n["I"])(p.message2),1)]),_:1})]),d,Object(n["k"])("div",b,[Object(n["m"])(h,null,{default:Object(n["N"])(()=>[Object(n["m"])(g,{onClick:u.handleSendSync},{default:Object(n["N"])(()=>[Object(n["l"])("同步消息")]),_:1},8,["onClick"]),Object(n["l"])(" 结果："+Object(n["I"])(p.message3),1)]),_:1})]),j,Object(n["k"])("div",O,[Object(n["m"])(h,null,{default:Object(n["N"])(()=>[Object(n["m"])(g,{onClick:u.sendMsgStart},{default:Object(n["N"])(()=>[Object(n["l"])("开始")]),_:1},8,["onClick"]),Object(n["m"])(g,{onClick:u.sendMsgStop},{default:Object(n["N"])(()=>[Object(n["l"])("结束")]),_:1},8,["onClick"]),Object(n["l"])(" 结果："+Object(n["I"])(p.messageString),1)]),_:1})]),k,Object(n["k"])("div",w,[Object(n["m"])(h,null,{default:Object(n["N"])(()=>[Object(n["m"])(g,{onClick:c[0]||(c[0]=e=>u.createWindow(0))},{default:Object(n["N"])(()=>[Object(n["l"])("打开新窗口2")]),_:1}),Object(n["m"])(g,{onClick:c[1]||(c[1]=e=>u.sendTosubWindow())},{default:Object(n["N"])(()=>[Object(n["l"])("向新窗口2发消息")]),_:1})]),_:1})])])}var u=t("a358"),g={data(){return{messageString:"",message1:"",message2:"",message3:"",windowName:"window-ipc",newWcId:0,views:[{type:"vue",content:"/#/special/subwindow",windowName:"window-ipc",windowTitle:"ipc window"}]}},mounted(){this.init()},methods:{init(){this.$ipc.removeAllListeners(u["a"].ipcSendMsg),this.$ipc.on(u["a"].ipcSendMsg,(e,c)=>{console.log("[ipcRenderer] [socketMsgStart] result:",c),this.messageString=c,e.sender.send(u["a"].hello,"electron-egg")}),this.$ipc.removeAllListeners(u["c"].window2ToWindow1),this.$ipc.on(u["c"].window2ToWindow1,(e,c)=>{this.$message.info(c)})},sendMsgStart(){const e={type:"start",content:"开始"};this.$ipc.send(u["a"].ipcSendMsg,e)},sendMsgStop(){const e={type:"end",content:""};this.$ipc.send(u["a"].ipcSendMsg,e)},handleInvoke(){this.$ipc.invoke(u["a"].ipcInvokeMsg,"异步-回调").then(e=>{console.log("r:",e),this.message1=e})},async handleInvoke2(){const e=await this.$ipc.invoke(u["a"].ipcInvokeMsg,"异步");console.log("msg:",e),this.message2=e},handleSendSync(){const e=this.$ipc.sendSync(u["a"].ipcSendSyncMsg,"同步");this.message3=e},createWindow(e){this.$ipc.invoke(u["a"].createWindow,this.views[e]).then(e=>{console.log("[createWindow] id:",e)})},async sendTosubWindow(){this.newWcId=await this.$ipc.invoke(u["a"].getWCid,this.windowName),this.$ipc.sendTo(this.newWcId,u["c"].window1ToWindow2,"窗口1通过 sendTo 给窗口2发送消息")}}},h=(t("27f0"),t("d959")),m=t.n(h);const r=m()(g,[["render",p],["__scopeId","data-v-010d9bff"]]);c["default"]=r},"270c":function(e,c,t){},"27f0":function(e,c,t){"use strict";t("270c")}}]);
//# sourceMappingURL=chunk-3b80db62.8e00b001.js.map